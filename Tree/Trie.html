<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Trie</title>
</head>
<body>
<script>
    class TrieNode {
        constructor(key) {
            this.key = key;
            this.next = new Map();
            this.isWord = false;
        }
    }

    class Trie {
        constructor() {
            this.root = new TrieNode(null);
            this.size = 0;
        }

        add(word) {
            let cur = this.root,
                c;
            for (let i = 0; i < word.length; i++) {
                c = word.charAt(i);
                if (!cur.next.get(c)) {
                    cur.next.set(c, new TrieNode(c))
                }
                cur = cur.next.get(c);
            }
            if (!cur.isWord) {
                cur.isWord = true;
                this.size++
            }
        }

        contains(word) {
            let cur = this.root,
                c;
            for (let i = 0; i < word.length; i++) {
                c = word.charAt(i);
                if (!cur.next.has(c)) {
                    return false
                }
                cur = cur.next.get(c);
            }
            console.log(cur.isWord)
            return cur.isWord
        }

        isPrefix(prefix) {
            let cur = this.root,
                c;
            for (let i = 0; i < prefix.length; i++) {
                c = prefix.charAt(i);
                if(!cur.next.has(c)){
                    return false
                }
                cur = cur.next.get(c);
            }
            return true
        }

        getSize() {
            return this.size;
        }
    }

    let trie = new Trie();
    trie.add('apple')
    trie.add('panda')
    // trie.add('pan')
    trie.contains('pan')
    console.log(trie.isPrefix('pa'))
</script>
</body>
</html>