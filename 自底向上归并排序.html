<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="SortTestHelper.js"></script>
</head>
<body>
<script>
    let _merge = function (arr,l,mid,r) {
        let aux = [];
        for(let i = l;i <= r;i++){
            aux[i-l] = arr[i]
        }
        i = l;j = mid + 1;
        //i=0,mid=1,j=2,l=0,r=3
        //[1,6,5,7]
        for(let k = l; k <= r; k++){
            if(i>mid){
                arr[k] = aux[j-l];
                j++;
            }else if(j>r){
                arr[k] = aux[i-l];
                i++;
            }else if(aux[i-l] < aux[j-l]){
                arr[k] = aux[i-l];
                i++;
            }else{
                arr[k] = aux[j-l];
                j++
            }
        }
        console.log(arr);
    }

    let mergeSortBU = function (arr) {
        let len = arr.length;
        //sz是待归并数组的长度
        for(let sz = 1; sz <= len; sz += sz) {
           for(let i = 0; i + sz < len; i += sz + sz) {
               //对arr[i....i+size-1]和arr[i+sz.....i+2*sz-1]归并循环
               _merge(arr, i, i + sz -1, Math.min(i + sz + sz - 1,len-1));
           }
        }
        console.log(arr);
    }
    mergeSortBU([7,5,3,1,9,4,6,2,10,8]);
</script>
</body>
</html>