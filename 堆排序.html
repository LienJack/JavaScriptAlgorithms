<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="SortTestHelper.js"></script>
</head>
<body>
<script>
    function MaxHeap(n) {
        this.data = [].concat(n);
        this.data.splice(0, 0, '');

        this.size = function () {
            return count;
        }
        this.isEmpty = function () {
            return count == 0;
        }
        this.shiftUp = function (el) {
            this.data.push(el);
            let count = this.data.length - 1;
            while (count > 1 && this.data[count] > this.data[Math.floor(count / 2)]) {
                wrap(this.data, count, Math.floor(count / 2));
                count /= 2;
            }
            console.log(this.data);
        }
        this.shiftDown = function (el) {
            this.data.push(el);
            let count = this.data.length;
            wrap(this.data, 1, count - 1);
            this.data.length--;
            let k = 1;
            while (2 * k < this.data.length && this.data[k] < this.data[2 * k]) {
                let j = 2 * k;
                if (j + 1 <= count - 1 && this.data[j + 1] > this.data[j]) {
                    j += 1;
                }
                wrap(this.data, k, j);
                k = j;
            }
        }
    }

    //    let maxheap = new MaxHeap([10, 9, 8, 6, 5, 4, 3, 2, 1, 1]);
    //    maxheap.addel(1);
    //    maxheap.shiftDown();

    function heapSort(arr) {
        let maxheap = new MaxHeap([]);
        console.log(maxheap.data)
        for (let i = 0; i < arr.length; i++) {
            maxheap.shiftUp(arr[i]);
        }
        maxheap.data = [''].concat(maxheap.data.slice(1).reverse());
        console.log(maxheap.data)
    }
    heapSort([3, 2, 5, 7, 1])
</script>
</body>
</html>