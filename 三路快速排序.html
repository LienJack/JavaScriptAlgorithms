<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="SortTestHelper.js"></script>
</head>
<body>
<script>
    //三路快速排序处理
    //将arr[l....r]分为 <v;==v;>v 三部分
    //之后递归 < v; > v 两部分继续进行三路快速排序
    let _quickSort3Ways = function (arr, l, r) {
        if (l >= r) {
            return;
        }

        //partition
        let v = arr[l];

        let lt = l;//arr[l+1....lt] < v;
        let gt = r + 1;//arr[gt....r] > v;
        let i = l + 1;//arr[lt+1....i) == v
        while (i < gt) {
            if (arr[i] < v) {
                wrap(arr, i, lt + 1);
                lt++;
                i++;
            } else if (arr[i] > v) {
                wrap(arr, i, gt - 1);
                gt--;
            } else {
                i++;
            }
        }
        wrap(arr,i,lt);
        _quickSort3Ways(arr,l,lt-1);
        _quickSort3Ways(arr,gt,r);
    }
    let quickSort3Ways = function (arr) {
        let len = arr.length;
        _quickSort3Ways(arr, 0, len - 1);
        console.log(arr);
    }
    let arr = generateRandomArray(10000, 1, 100000000);
    testSort(quickSort3Ways, arr);
</script>
</body>
</html>