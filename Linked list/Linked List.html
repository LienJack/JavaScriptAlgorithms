<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    class Node {
        constructor(key) {
            this.key = key;
            this.next = null
        }
    }

    // 链表
    class LinkedList {
        constructor() {
            this.head = null;
            this.length = 0;
        }

        add(key) {
            //初始化添加的Node实例
            let node = new Node(element),
                current;
            if (this.head === null) {
                //第一个Node实例进入链表，之后在这个LinkedList实例中head就不再是null了
                this.head = node;
            } else {
                current = head;
                //循环链表知道找到最后一项，循环结束current指向链表最后一项元素
                while (current.next) {
                    current = current.next;
                }
                //找到最后一项元素后，将他的next属性指向新元素node,建立链接
                current.next = node;
            }
            //更新链表长度
            this.length++;
        }

        remove(position) {
            if (position < 0 && position >= this.length) return;
            let current = this.head,
                previous,
                index = 0;

            if (position === 0) {
                this.head = current.next
            } else {
                //循环迭代到目标位置
                while (index++ < position) {
                    previous = current;
                    current = current.next
                }
                //跳过current，将当前要移除的元素的上一个与下一项直接连接起来。
                previous.next = current.next
            }
            //更新链表长度
            this.length--
        }

        insert(position, element) {
            if (position < 0 && position >= this.length) return;
            let node = new Node(element),
                current = this.head,
                previous,
                index = 0;

            if (position === 0) {
                node.next = current;
                this.head = node
            } else {
                //循环迭代到目标位置
                while (index++ < position) {
                    previous = current;
                    current = current.next
                }
                node.next = current;
                previous.next = node
            }
            this.length++;
            return true
        }

        indexOf(key) {
            let current = this.head,
                index = 0;

            while (current) {
                if (current.key === key) {
                    return index
                }
                index++;
                current = current.next
            }
            return -1
        }

        isEmpty() {
            return this.length === 0
        }

        getLength() {
            return this.length
        }

        getHead() {
            return this.head
        }
    }


</script>
</body>
</html>